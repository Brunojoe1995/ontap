---
permalink: s3-config/create-bucket-lifecycle-rule-task.html
sidebar: sidebar
keywords: s3, bucket, cli, lifecycle, rule 
summary: "Beginning with ONTAP 9.13.1, you can implement S3 object expiration."
---

= Create a bucket lifecycle management rule
:icons: font
:imagesdir: ../media/

[.lead]
Beginning with ONTAP 9.13.1, you can implement S3 object expiration. Expiration actions define when objects in a bucket expire. This capability enables you to manage object versions so you can meet retention requirements and manage overall S3 object storage effectively.

.Before you begin

An S3-enabled SVM containing an S3 server and a bucket must already exist.

.About this task

When creating your bucket lifecycle management rule, you must choose one of the three following expiration action types:

* `Expiration` – The expiration action expires objects identified by the rule. If case versioning is enabled on the bucket, S3 makes all expired objects unavailable. If versioning is not enabled, this rule will delete the object permanently. 
* `NoncurrentVersionExpiration` – This action is used to specify when S3 permanently removes non-current objects. These deleted objects cannot be recovered.
* `AbortIncompleteMultipartUpload` – The administrator can use this element to set a maximum time (in days) that they want to allow multipart uploads to remain in progress


== Use the ONTAP CLI to create a bucket lifecycle management rule

.Steps

. Create a bucket lifecycle management rule:
.. `vserver object-store-server bucket lifecycle-management-rule create -vserver <svm_name> -bucket <bucket_name> -rule-id <rule_name> -action <lifecycle_action_type> -index <lifecycle_rule_index_integer> -is-enabled {true|false} -prefix <object_name> -tags <text> -obj-size-greater-than {<integer>[KB|MB|GB|TB|PB]} -obj-size-less-than {<integer>[KB|MB|GB|TB|PB]} -new-non-curr-versions <integer> -non-curr-days <integer>`


// 2023 Apr 13, Jira IDR-228
