---
sidebar: sidebar
permalink: anti-ransomware/use-cases-restrictions-concept.html
keywords: anti-ransomware use cases and restrictions, anti-ransomware performance and frequency considerations, anti-ransomware workloads, anti-ransomware volume requirements, anti-ransomware performance, volumes, anti-ransomware encryption, anti-ransomware system configurations
summary: In the current release, ransomware protection is most suitable in NAS environments. Support for other environments will be available in future releases.
---

= Anti-ransomware use cases and considerations
:toc: macro
:hardbreaks:
:toclevels: 1
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
// In the current release, ransomware protection is most suitable in NAS environments. Support for other environments will be available in future releases.

ONTAP platform support:
[cols="2*",options="header"]
|===
| Platform| Available beginning...
a| ONTAP on-premises
a| ONTAP 9.10.1

a| Cloud Volumes ONTAP
a| ONTAP 9.11.1

a| Cloud Volume Services for AWS and Google Cloud
a| not supported

a| Azure NetApp Files
a| not supported

a| ONTAP Select
a| not supported

|===

Suitable workloads:

* Databases on NFS storage
* Windows or Linux home directories
+
Because users could create files with extensions that werenâ€™t detected in the learning period, there is greater possibility of false positives in this workload.
* Images and video
+
For example, health care records and Electronic Design Automation (EDA) data.

Unsuitable workloads:

* Workloads with a high frequency of file create or delete (hundreds of thousands of files in few seconds; for example, test/dev workloads)
* The anti-ransomware feature depends on the ability to recognize an unusual surge in file create or delete activity. If the application itself is the source of the file activity, it cannot be effectively distinguished from ransomware activity
* Workloads where the application or the host encrypts data
The anti-ransomware feature depends on distinguishing incoming data as encrypted or unencrypted. If the application itself is encrypting the data, then the effectiveness of the feature is reduced. However, the feature can still work based on file activity (create, delete, and overwrite) and file type.

Unsupported system configurations:

* SAN environments
* ONTAP S3 environments
* VMDKs on NFS

Volume requirements:

* Less than 100% full
* Junction path must be active

Unsupported volume types:

* offline volumes
* restricted volumes
* SnapLock volumes
* FlexGroup volumes
* FlexCache volumes (the anti-ransomware feature is supported on origin FlexVol volumes but not on cache volumes)
* SAN-only volumes
*	volumes of stopped storage VMs
*	root volumes of storage VMs
*	data protection volumes

== Anti-ransomware performance and frequency considerations

The anti-ransomware feature can have a minimal impact on system performance as measured in throughput and peak IOPS. The impact of the anti-ransomware feature is highly dependent on volume workloads. For most typical or common workloads, the following configuration limits are recommended:


[cols="35,15,15",hrows="2"]
|====================
.2+| *Workload characteristics*
2+^| *Maximum volumes per node*

| ONTAP 9.11.1 and later
| ONTAP 9.10.1

| Read-intensive or the data can be compressed.
| 150
| 50

| Write-intensive and the data cannot be compressed.
| 50
| 20
|===

Because anti-ransomware analytics are run in a prioritized sequence, as the number of protected volumes increases, analytics are run on each volume less frequently.

== How automatic Snapshot copies work when ransomware is detected

In order to obtain the best possible recovery point, the anti-ransomware feature creates an automatic Snapshot copy as soon as it detects abnormal file activity. However, the anti-ransomware feature does not immediately flag an alert; rather, analytics need to run and confirm that the suspicious activity matches a ransomware profile before generating an alert. This process could take up to 60 minutes. If the analytics determines the activity is not suspicious, then an alert is not generated, but the automatically created Snapshot copy remains present on the file system for a minimum of two days.

Beginning with ONTAP 9.11.1, you can control the number and retention period for anti-ransomware Snapshot copies that are automatically generated in response to suspected ransomware attacks. Learn how to link:modify-automatic-shapshot-options-task.html[modify options for automatic Snapshot copies].

// 2022-06-02, BURT 1482782
// 2022-05-04, Jira IE-517
// 2022-03-30, Jira IE-517
// 2022-03-22, ontap-issues-419
// 2022-02-18, ontap-issues-371
// 2021-11-29, ontap-issues 255 & 257
// 2021-10-29, Jira IE-353
