---
permalink: upgrade/special-considerations.html
sidebar: sidebar
keywords: ontap, upgrade, plan, planning, upgrade, manually, manual, checks, cluster, ready, verification, verify, verifying
summary: 'Various configuration settings can impact cluster upgrade readiness.'
---
= Special considerations prior to an ONTAP upgrade
:icons: font
:imagesdir: ../media/

[.lead]
If certain configurations exist on your cluster, there are specific actions you need to take before you begin an ONTAP software upgrade.  Review the following table to determine if any of the special upgrade considerations are applicable to your cluster and, if so, what additional steps you need to take. For example, if you have a SAN configuration, you should verify that each host is configured with the correct number of direct and indirect paths before you begin the upgrade. 

[cols=2*,options="header"]
|===
| Ask yourself...
| If your answer is *yes*, then do this...

| Do I have a mixed version cluster?
| xref:concept_mixed_version_requirements.html[Check mixed version requirements]

| Do I have a MetroCluster configuration?
a| xref:concept_upgrade_requirements_for_metrocluster_configurations.html[Review specific upgrade requirements for MetroCluster configurations]

| Do I have a SAN configuration?
| xref:task_verifying_the_san_configuration.html[Verify the SAN host configuration]



| Is my cluster running SnapMirror?
a| 
* xref:concept_upgrade_requirements_for_snapmirror.html[Review upgrade requirements for SnapMirror]
* xref:task_preparing_snapmirror_relationships_for_a_nondisruptive_upgrade_or_downgrade.html[Prepare your SnapMirror relationships for upgrade]
* link:/data-protection/compatible-ontap-versions-snapmirror-concept.html[Verify compatibility of ONTAP versions for SnapMirror relationships^]

| Am I upgrading to ONTAP 9.12.1 or later and have DP-type relationships?
| link:../data-protection/convert-snapmirror-version-flexible-task.html[Convert existing DP-type relationships to XDP]

| Do I have deduplicated volumes and aggregates?
| xref:task_verifying_that_deduplicated_volumes_and_aggregates_contain_sufficient_free_space.html[Verify you have enough free space for your deduplicated volumes and aggregates]


| Am I using NetApp Storage Encryption with external key management servers?
| xref:task_preparing_to_upgrade_nodes_using_netapp_storage_encryption_with_external_key_management_servers.html[Delete any existing key management server connections]

| Do I have netgroups loaded into SVMs?
| xref:task_verifying_that_the_netgroup_file_is_present_on_all_nodes.html[Vefiry that the netgroup file is present on each node]

| Do I have LDAP clients using SSLv3?
| xref:task_configuring_ldap_clients_to_use_tls_for_highest_security.html[Configure LDAP clients to use TLS]

| Am I using session-oriented protocols?
| xref:concept_considerations_for_session_oriented_protocols.html[Review considerations for session-oriented protocols]

| Is SSL FIPS mode enabled on a cluster where administrator accounts authenticate with an SSH public key?
| xref:considerations-authenticate-ssh-public-key-fips-concept.html[Review requirements for SSH public keys]

| Am I upgrading from ONTAP 8.3 and have load-sharing mirrors?
| xref:task_preparing_all_load_sharing_mirrors_for_a_major_upgrade.html[Prepare all load-sharing mirrors for upgrade]
|===

// 2023 Jul 25, Jira 1183
// 2023 Jun 22, Git Issue 955
// 2022 oct 07, IE-609
// 2022-04-11, BURT 1448836
