---
sidebar: sidebar
permalink: s3-snapmirror/s3-snapshot-overview.html
keywords: s3 snapshots, snapshot overview
summary: You can create a point-in-time backup of your S3 bucket using the S3 Snapshot technology. Point-in-time Snapshots provide a comprehensive backup solution, eliminating the need for full and continuous bucket replication.
---

= S3 Snapshot overview
:toclevels: 1
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
Beginning with 9.16.1, you can use S3 Snapshot technology to generate point-in-time backup of your ONTAP S3 buckets. By creating Snapshot copies of your buckets, you can eliminate the need for full and continuous bucket replication. 

For information about volume snapshots in ONTAP, refer to https://docs.netapp.com/us-en/ontap/concepts/snapshot-copies-concept.html[Snapshot copies^]. 

The S3 Snapshot feature leverages bucket versioning to track the objects captured in a bucket snapshot. Snapshot copies of S3 buckets do not contain object version history and should be governed by snapshot policies to manage the retention tenure of snapshots. The default snapshot policy preserves: 

* Six hourly snapshots
* Two daily snapshots
* Two weekly snapshots

Object versioning history and point-in-time tags will be included in a future release.

Using the S3 Snapshot feature, you can manually create snapshots or automatically generate them through snapshot policies. Additionally, you can browse snapshots to determine errors, restore a bucket, and delete snapshots to free up space.

== Snapshots on versioned and non-versioned buckets
You can create snapshots on both versioned and non-versioned buckets, but the snapshot contains only the current object versions at a time when the snapshot is captured. 

.Versioned buckets and snapshots
In buckets with versioning enabled, a snapshot retains the content of the most recent version after which the snapshot was taken. It excludes content of a previous version of the bucket.

Consider this example: In a bucket where versioning is enabled, object `obj1` has versions v1, v2, v3, v4, v5. You created a snapshot `snap1` from `obj1` v3 (the most recent version at the point of capture). Since then, even if a few more versions v4 and v5 have been created. When browsing `snap1`, `obj1` will appear as an object with content created at v3. Content of the previous versions will not be returned.

.Non-versioned buckets and snapshots
In non-versioned buckets, the snapshot preserves the content of the latest commit prior to snapshot creation.

Consider this example: In a bucket were versioning is unavailable, object `obj1` has been overwritten several times at t1, t2, t3, t4, t5. You created a snapshot `snap1` sometime between t3 and t4. When browsing `snap1`, `obj1` will appear with the content created at t3.

== Object expiration and snapshots

Object expiration and S3 snapshot features function independent of each other. Object expiration feature expire latest and earlier versions according to the lifecycle management rules defined on the bucket. The snapshot captures the version of the objects at a point in time when the snapshot is created.

If versioning is enabled in a bucket, when a specific version (non-current version) of an object is deleted due to an expiration rule defined for that bucket, the content of the expired object continues to remain in a snapshot if the snapshot was created from the non-current version. That version of the object will cease to exist on the file system only when that snapshot is deleted.

Similarly, in a non-versioned bucket or a bucket in which versioning is disabled, if an object gets deleted based on an expiration rule, the content of the expired object is still retained in any snapshot that was previously created from the object. The object will be permanently removed from the file system when the snapshots capturing it are deleted.

For information about lifecycle management rules, refer to https://docs.netapp.com/us-en/ontap/s3-config/create-bucket-lifecycle-rule-task.html[Create a bucket lifecycle management rule].
