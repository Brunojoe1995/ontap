---
permalink: svm-migrate/index.html
sidebar: sidebar
keywords: svm, migrate, workflow, relocate, prerequisites, data mobility
summary: 'Beginning with ONTAP 9.10.1, cluster administrators can non-disruptively relocate an SVM from a source cluster to a destination cluster to manage capacity and load balancing, or to enable equipment upgrades or data center consolidations. The feature is supported only on AFF arrays.'
---
= SVM data mobility overview
:icons: font
:imagesdir: ../media/


[.lead]
Beginning with ONTAP 9.10.1, cluster administrators can non-disruptively relocate an SVM from a source cluster to a destination cluster to manage capacity and load balancing, or to enable equipment upgrades or data center consolidations. The feature is supported only on AFF arrays.

The SVMâ€™s name and UUID remain unchanged after migration, as well as the data LIF name, IP address, and object names, such as the volume name. The UUID of the objects in the SVM will be different.

== SVM migration workflow

The diagram depicts the typical workflow for an SVM migration. You start an SVM migration from the destination cluster. You can monitor the migration from either the source or the destination. You can perform a manual cutover or an automatic cutover. An automatic cutover is performed by default.

image::../media/workflow_svm_migrate.gif[]

== Supported configurations

The table indicates the configurations supported and the ONTAP releases in which support is available.

[cols="3,2*"]
|===

h| Configuration supported in... h| ONTAP 9.10.1 h| ONTAP 9.11.1

| AFF arrays only
| Yes
| Yes

| Total arrays/Node pairs
| 1
| 3

| Migrate with a data center and a max network latency of 2ms
| Yes
| Yes

|===

== Prerequisites

* You are a cluster administrator
* The source and destination clusters are peered to each other
* The source and destination clusters have the Data Protection Bundle license installed
* All nodes in the source cluster must be running ONTAP 9.10.1 or later
* All nodes in the source cluster must be running the same ONTAP version
* The destination cluster is at the same or newer effective cluster version (ECV) as the source cluster
* The source and destination clusters are in the same data network
* The source SVM contains fewer than the maximum number of supported data volumes for the release.
+
The maximum number of data volumes supported is 100.
* Sufficient space for volume placement is available on the destination
* Onboard Key Manager must be configured on the destination if the source SVM has encrypted volumes

== Conflicting operations

You should check for operations that can conflict with an SVM migration:

* No failover operations are in progress
* WAFLIRON cannot be running
* Fingerprint is not in progress
* Vol move, rehost, clone, create, convert or analytics are not running

== Supported features

The table indicates the features supported and the ONTAP releases in which support is available.

[cols="3,1,1,4"]
|===

h| Feature supported in... h| ONTAP 9.10.1 h| ONTAP 9.11.1 h| Additional information

| NFS v3, NFS v4.1, and NFS v4.2 protocols
| Yes
| Yes
|

| NetApp Volume Encryption
| Yes
| Yes
|

| Asynchronous SnapMirror source
| No
| Yes
a|
* The destination of an Asynchronous SnapMirror relationship is not supported. SVM migrate does not quiesce relationships at the destinations. Transfers fail at the cutover phase, and they do not begin until migration completes and SVM is again peered. After migration reaches ready-for-source-cleanup, you can restart update and resync transfers.
* SnapMirror DP is not supported
* Transfers can continue as normal on FlexVol SnapMirror relationships during most of the migration, but will stop when cutover starts.
* SnapMirror initialization does not start automatically after migration. Any initialize transfer operations that are stopped at cutover cannot be restarted after SVM migrate reaches ready-for-source-cleanup or completes. If initialize operations are interrupted by a cutover, when SVM migrate completes, you should delete the relationships, delete destination volumes, and recreate the DP volumes and SnapMirror relationships. Once relationships are recreated, you can manually start a new SnapMirror initialize operation.
* SVM migrate does not trigger SnapMirror updates automatically if an update is missed during cutover. You must manually trigger SnapMirror updates if you require a full data warehouse rebuild.

| SVM peering for SnapMirror applications
| No
| Yes
|

| External key manager
| No
| Yes
|

| Fanout relationships (the migrating source has a SnapMirror source volume with more than one destination)
| No
| Yes
|

| Job schedule replication
| No
| Yes
| In ONTAP 9.10.1, job schedules are not replicated during migration and must be manually created on the destination. Beginning with ONTAP 9.11.1, job schedules used by the source are replicated automatically during migration.

|===

== Unsupported features

The following features are not supported with SVM migration:

* Anti-ransomware
* Asynchronous SnapMirror destination
* Auditing
* Cloud Volumes ONTAP
* Data protection volume
* FabricPools
* FAS arrays
* Flash Pool aggregates
* FlexCache volumes
* FlexGroup volumes
* IPsec policy
* IPv6 LIFs
* iSCSI workloads
* Load-sharing mirrors
* MetroCluster
* NDMP
* SAN, NVMe over fiber, CIFS, VSCAN, NFS v4.0, vStorage, S3 replication
* SMTape
* SnapLock
* SVM-DR
* SVM migration when the source cluster's Onboard Key Manager (OKM) has Common Criteria (CC) mode enabled
* Synchronous SnapMirror, SnapMirror Business Continuity
* System Manager
* Qtree, Quota
* VIP/BGP LIF
* Virtual Storage Console for VMware vSphere (VSC is part of the https://docs.netapp.com/us-en/ontap-tools-vmware-vsphere/index.html[ONTAP Tools for VMware vSphere virtual appliance^] beginning with VSC 7.0.)
* Volume clones




// 2022-02-18, BURT 1449741
// 2021-11-16, change feature name
// 2021-11-1, Jira IE-330
// 2022-3-21, update for ONTAP 9.11.1
// 2022-4-4, JIRA IE-462
