---
sidebar: sidebar
permalink: snapmirror-active-sync/interoperability-reference.html
keywords: SM-BC, SMBC, restrictions, consistency group, endpoint limits, solaris, aix, hp-ux, fanout, snapmirror active sync
summary: SnapMirror active sync is compatible with numerous operating systems and other features in ONTAP 
---
= SnapMirror active sync interoperability
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
SnapMirror active sync is compatible with numerous operating systems and other features in ONTAP. Learn about details and recommended configurations. 

== Supported application hosts 

SnapMirror active sync is supported with numerous operating systems, including: 

* AIX (beginning ONTAP 9.11.1)
* HP-UX (beginning ONTAP 9.10.1)
* Solaris 11.4 (beginning ONTAP 9.10.1)

// needs verification 
=== Configuring applications 

.Application host
The supported host operating systems are stand-alone Microsoft Windows Server, stand-alone Red Hat Enterprise Linux (RHEL), and VMware vMSC. {EH: The IE and TME docs cover totally different OS?]

.Protocols
Using iSCSI and FC protocols, SnapMirror active sync protects LUNs (logical units) in SAN environments which appear as disk devices to physical or ESXi hosts.

.Host connectivity
The host-to-storage network connectivity can use either FC or Ethernet (iSCSI) connectivity.

.Host access type
The consistency group volumes can be accessed by the application hosts by using either uniform or nonuniform SAN connectivity. Uniform storage access configuration allows each host connectivity to both ONTAP clusters, whereas nonuniform storage configuration enables host connecting to just the local storage array. 

.Multipathing
SnapMirror active sync uses ALUA, a standard SCSI mechanism that allows an application host multipathing software with paths advertised with priorities and access availability for the application host communication with the storage array. ALUA marks active optimized paths to the controllers owning the LUN and others as active nonoptimized paths, used only if the primary path fails. 

== AIX

Beginning with ONTAP 9.11.1, AIX is supported with SnapMirror active syn. With an AIX configuration, the primary cluster is the "active" cluster.

In an AIX configuration, failovers are disruptive. With each failover, you will need to perform a re-scan on the host for I/O operations to resume. 

To configure for AIX host with SnapMirror active syn, refer to the Knowledge Base article link:https://kb.netapp.com/Advice_and_Troubleshooting/Data_Protection_and_Security/SnapMirror/How_to_configure_an_AIX_host_for_SnapMirror_Business_Continuity_(SM-BC)[How to configure an AIX host for SnapMirror active sync].

== HP-UX

Beginning in ONTAP 9.10.1, SnapMirror active sync for HP-UX is supported.

=== Limitations with HP-UX

An automatic unplanned failover (AUFO) event on the isolated master cluster may be caused by dual event failure when the connection between the primary and the secondary cluster is lost and the connection between the primary cluster and the mediator is also lost. This is considered a rare event, unlike other AUFO events.

* In this scenario, it might take more than 120 seconds for I/O to resume on the HP-UX host. Depending on the applications that are running, this might not lead to any I/O disruption or error messages.
* To remediate, you must restart applications on the HP-UX host that have a disruption tolerance of less than 120 seconds.

== Solaris Host setting recommendation

Beginning with ONTAP 9.10.1, SnapMirror active sync supports Solaris 11.4.

To ensure the Solaris client applications are non-disruptive when an unplanned site failover switchover occurs in an SnapMirror active sync environment, modify the default Solaris OS settings. To configure Solaris with the recommended settings, see the Knowledge Base article link:https://kb.netapp.com/Advice_and_Troubleshooting/Data_Protection_and_Security/SnapMirror/Solaris_Host_support_recommended_settings_in_SnapMirror_Business_Continuity_(SM-BC)_configuration[Solaris Host support recommended settings in SnapMirror active sync^].

== Windows Failover Clustering

Beginning with ONTAP 9.14.1, Windows Failover Clustering is supported with SnapMirror active sync.

=== FabricPool 

SnapMirror active sync supports source and destination volumes on FabricPool aggregates with tiering policies of None, Snapshot or Auto. SnapMirror active sync does not support FabricPool aggregates using a tiering policy of All.

=== Fan-out configurations

In xref:../data-protection/supported-deployment-config-concept.html[fan-out configurations], your source volume can be mirrored to a SnapMirror active sync destination endpoint and to one or more SnapMirror asynchronous relationships.

image:fanout-diagram.png[Diagram of a fan-out configuration]

SnapMirror active sync supports xref:../data-protection/supported-deployment-config-concept.html[fan-out configurations] with the `MirrorAllSnapshots` policy and, beginning in ONTAP 9.11.1, the `MirrorAndVault` policy. Fan-out configurations are not supported in SnapMirror active sync with the `XDPDefault` policy. 

Beginning with ONTAP 9.15.1, SnapMirror active sync supports automatic reconfiguration in the fan-out leg after failover. For information about managing your fan-out configuration in earlier releases of ONTAP, see xref:recover-unplanned-failover-task.adoc[resume protection in the fan-out configuration].

=== NDMP restore

Beginning in ONTAP 9.13.1, you can use xref:../tape-backup/transfer-data-ndmpcopy-task.html[NDMP to copy and restore data] with SnapMirror active sync. Using NDMP allows you to move data onto the SnapMirror active sync source to complete a restore without pausing protection. This is particularly useful in fan-out configurations. 

=== SnapCenter 

SnapMirror active sync is supported with SnapCenter beginning with link:https://docs.netapp.com/us-en/snapcenter/index.html[SnapCenter 5.0^]. SnapCenter enables the creation of Snapshots that can be used to protect and recover applications and virtual machines, enabling always available storage solutions with application-level granularity.

=== SnapRestore 

SnapMirror active sync supports partial and single file SnapRestore. 

.Single file SnapRestore
Beginning with ONTAP 9.11.1, xref:../data-protection/restore-single-file-snapshot-task.html[single-file SnapRestore] is supported for SnapMirror active sync volumes. You can restore a single file from a Snapshot copy replicated from the SnapMirror active sync source to the destination. Because volumes can contain one or more LUNs, this feature helps you implement a less disruptive restore operation, granularly restoring a single LUN without disrupting the other LUNs. Single File SnapRestore has two options: in-place and out-of-place.

.Partial file SnapRestore
Beginning in ONTAP 9.12.1, link:../data-protection/restore-part-file-snapshot-task.html[partial LUN restore] is supported for SnapMirror active sync volumes. You can restore a data from application-created Snapshot copies that have been replicated between the SnapMirror active sync source (volume) and the destination (Snapshot copy) volumes. Partial LUN or file restore may be necessary if you need to restore a database on a host that stores multiple databases on the same LUN. Using this functionality requires you to know the starting byte offset of the data and byte count.

== Large LUNs and large volumes

Support for large LUNs and large volumes (greater than 100 TB) depends on the version of ONTAP you are using and your platform. 

[role="tabbed-block"]
====

.ONTAP 9.12.1P2 and later
--
* For ONTAP 9.12.1 P2 and later, SnapMirror active sync supports Large LUNs and large volumes greater than 100TB on ASA and AFF (including C-Series).

[NOTE]
For ONTAP Releases 9.12.1P2 and later, you must ensure that both the primary and secondary clusters are either All-Flash SAN Arrays (ASA) or All Flash Array (AFF), and that they both have ONTAP 9.12.1 P2 or later installed. If the secondary cluster is running a version earlier than ONTAP 9.12.1P2 or if the array type is not the same as primary cluster, the synchronous relationship can go out of sync if the primary volume grows larger than 100 TB.
--

.ONTAP 9.9.1 - 9.12.1P1
--
* For ONTAP releases between ONTAP 9.9.1 and 9.12.1 P1 (inclusive), Large LUNs and large volumes greater than 100TB are supported only on All-Flash SAN Arrays.

[NOTE]
For ONTAP releases between ONTAP 9.9.1 and 9.12.1 P2, you must ensure that both the primary and secondary clusters are All-Flash SAN Arrays, and that they both have ONTAP 9.9.1 or later installed. If the secondary cluster is running a version earlier than ONTAP 9.9.1 or if it is not an All-Flash SAN Array, the synchronous relationship can go out of sync if the primary volume grows larger than 100 TB.
--
====

// 6 may 2024, ontapdoc-1478
// 5 september 2023, issue #1077
// ontapdoc-804