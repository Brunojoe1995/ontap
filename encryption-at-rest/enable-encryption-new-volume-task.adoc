---
permalink: encryption-at-rest/enable-encryption-new-volume-task.html
sidebar: sidebar
keywords: encryption, new volume, NAE, NVE, volume create
summary: "You can use the volume create command to enable encryption on a new volume."
---
= Enable encryption on a new volume
:icons: font
:imagesdir: ../media/

[.lead]
You can use the `volume create` command to enable encryption on a new volume.

.About this task

You can encrypt volumes using NetApp Volume Encryption (NVE) and, beginning with ONTAP 9.6, NetApp Aggregate Encryption (NAE). To learn more about NAE and NVE, refer to the xref:configure-netapp-volume-encryption-concept[volume encryption overview].

The procedure to enable encryption in ONTAP varies based on the version of ONTAP you are using and your specific configuration:

* Beginning with ONTAP 9.4, if you enable `cc-mode` when you set up the Onboard Key Manager, volumes you create with the `volume create` command are automatically encrypted, whether or not you specify `-encrypt true`.
* In ONTAP 9.6 and earlier releases, you must use `-encrypt true` with `volume create` commands to enable encryption (provided you did not enable `cc-mode`).
* If you are using NAE in ONTAP 9.6, you must enable NAE at the aggregate level. Refer to xref:enable-aggregate-level-encryption-nve-license-task.html[Enable aggregate-level encryption with the VE license] for more details on this task. 
* Beginning with ONTAP 9.7, newly created volumes are encrypted by default when you have the VE license and onboard or external key management.
** In ONTAP 9.7 and later releases, if you use `-encrypt true` to create a volume in an NAE aggregate, the volume will have NVE encryption instead of NAE. All volumes in an NAE aggregate must be encrypted with either NVE or NAE.

[NOTE]
Plaintext volumes are not supported in NAE aggregates.

.Steps
. Create a new volume and specify whether encryption is enabled on the volume:
+
[cols="25,75"]
|===
h| To create... h| Use this command...
a| An NAE volume 
a| `volume create -vserver _SVM_name_ -volume _volume_name_ -aggregate _aggregate_name_` +
[NOTE] 
In ONTAP 9.6, you must enable NAE at the aggregate-level to create an NAE volume.
a|
An NVE volume
a|
`volume create -vserver _SVM_name_ -volume _volume_name_ -aggregate _aggregate_name_` +
[NOTE]
If you are using ONTAP 9.6 and earlier versions, add `-encrypt true` to the command. Using this parameter in ONTAP 9.7 or later with NAE encryption on the aggregate, the volume will use NVE.
a| A plain text volume
a| `volume create -vserver _SVM_name_ -volume _volume_name_ -aggregate _aggregate_name_ -encrypt false`
|===
+
For complete command syntax, refer to the command reference page for link:https://docs.netapp.com/us-en/ontap-cli-9121/volume-create.html[`volume create`^].

. Verify that volumes are enabled for encryption:
+
`volume show -is-encrypted true`
+
For complete command syntax, see the link:https://docs.netapp.com/us-en/ontap-cli-9121/volume-show.html[command reference^].

.Result

If you are using a KMIP server to store the encryption keys for a node, ONTAP automatically "pushes" an encryption key to the server when you encrypt a volume.

// 14 NOV 2022, BURT 1510942
//  09 NOV 2021, BURT 1374208
